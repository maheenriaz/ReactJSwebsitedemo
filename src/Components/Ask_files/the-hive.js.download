(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"22jJ":function(e,t,n){"use strict";var a=n("0iUn"),r=n("sLSF"),o=n("MI3g"),s=n("a7VT"),i=n("AT/M"),c=n("Tit0"),u=n("vYYK"),l=n("q1tI"),d=n.n(l),p=(n("S1Vi"),d.a.createElement),m=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return n=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c))),Object(u.a)(Object(i.a)(n),"removeTag",function(){n.props.removeTag(n.props.label)}),n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.hasRemoveFunction,a=e.hasHashTag;return p("div",{className:"tag"},p("div",{className:"tag__inner"},a?"# ".concat(t):t,n&&p("button",{type:"button",className:"tag__remove",onClick:this.removeTag},"remove")))}}]),t}(l.PureComponent);t.a=m},"3MhN":function(e,t,n){"use strict";n.r(t);var a=n("kOwS"),r=n("0iUn"),o=n("sLSF"),s=n("MI3g"),i=n("a7VT"),c=n("Tit0"),u=n("rt45"),l=n("q1tI"),d=n.n(l),p=n("J21I"),m=n.n(p),v=n("4KRT"),g=n("YFqc"),h=n.n(g),f=n("lTCR"),b=n.n(f),_=n("QmwJ"),y=n("Iy39"),O=n("xbmv"),w=n("tUSH"),N=n("9KFM"),I=n("22jJ"),T=(n("cF4o"),d.a.createElement),j=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.poster,n=e.title,a=e.type,r=e.tags,o=e.ratedUpKnowledgeItems,s=e.ratedDownKnowledgeItems,i=e.id,c=e.slug,u=e.answers,l=e.myId,d=e.referencePageNumber,p=e.toggleOverlay;return T("article",{className:"comm-quest"},T("div",{className:"comm-quest__inner"},T("div",{className:"comm-quest__rating"},T(w.a,{ratedUpKnowledgeItems:o,ratedDownKnowledgeItems:s,myId:l,voteOnWhat:"QUESTION",referenceId:i,posterId:t.id,toggleOverlay:p,refetchQueryName:"COMMUNITY_QUESTIONS_QUERY",refetchQueryVariables:{referencePageNumber:d},disabled:l===t.id})),T("div",{className:"comm-quest__details"},T("div",{className:"comm-quest__type-and-poster"},T("div",{className:"comm-quest__type"},a.label),T("div",{className:"comm-quest__asked-by"},"asked by"),T("div",{className:"comm-quest__poster-details"},T(h.a,{href:"/profile/[id]",as:"/profile/".concat(t.id)},T("a",null,T("div",{className:"comm-quest__poster-details__firstname"},T("strong",null,t.firstName)),T(O.a,{profilePic:t.profilePicSmall})))),T("div",{className:"comm-quest__num-answers"},"(","".concat(u.length," ").concat(1===u.length?"answer":"answers"),")")),T("div",{className:"comm-quest__title"},T(h.a,{href:"/the-hive/q/[slug]".concat("?pageidxref="+d),as:"/the-hive/q/".concat(c).concat("?pageidxref="+d)},T("a",null,T(N.a,{element:"h2",copy:n,noUnderline:!0})))),r.length>0&&T("div",{className:"comm-quest__tags"},r.map(function(e){return T(I.a,{key:e.id,label:e.label,hasHashTag:!0})})))))}}]),t}(l.PureComponent),k=n("tqnK"),U=n("NRlr"),q=n("obyI"),S=n("UtZv"),C=(n("aHUL"),d.a.createElement);function E(){var e=Object(u.default)(["\n  query QUESTIONS_CONNECTION_QUERY {\n    questionsConnection(\n      where: {\n        approved: true\n      }\n    ) {\n      aggregate {\n        count\n      }\n    }\n  }\n"]);return E=function(){return e},e}var P=b()(E()),Q=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.me,n=e.query,r=e.toggleOverlay,o=Number(Object(U.a)("pageidxref"));!o&&n.slug&&(o=Number(n.slug.replace("page-",""))),o||(o=1);var s={first:q.perPageCommunityQuestions};return o>1&&(s.skip=(o-1)*q.perPageCommunityQuestions),C("div",{className:"index"},C(_.a,{title:"Ask the hive",description:"Here is where you can ask anything startup related!",url:"https://www.startbee.io/the-hive"}),C(y.a,{title:"The hive"}),C("div",{className:"page__grid"},C("div",{className:"ask-comm"},C(m.a,{transitionName:"overlay",transitionAppear:!0,component:d.a.Fragment,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},C("div",{className:"ask-comm__inner"},C("div",{className:"ask-comm__intro"},C("div",{className:"ask-comm__intro__inner"},C("img",{src:"/static/icons/beehive.svg",alt:"The hive"}),C("h2",null,"The hive is a place for questions, recommendations or knowledge sharing on anything startup related"))),C(k.a,{pageidxref:o}),C("div",{className:"ask-comm__quests"},C(v.Query,{query:S.a,variables:s},function(e){var n=e.data,s=e.loading;e.error;return s?C("p",null,"loading..."):n.questions.map(function(e){return C(j,Object(a.a)({key:e.id},e,{myId:t?t.id:null,referencePageNumber:o,toggleOverlay:r}))})})),C(v.Query,{query:P},function(e){var t=e.data,n=e.loading;e.error;if(n)return C("p",null,"loading...");var a=t.questionsConnection.aggregate.count,r=Math.ceil(a/q.perPageCommunityQuestions);return C("div",{className:"ask-comm__pag"},o>1&&C(h.a,{href:2!==o?"/the-hive?slug=page-".concat(o-1):"/the-hive",as:2!==o?"/the-hive/page-".concat(o-1):"/the-hive",prefetch:!0},C("a",{className:"ask-comm__pag__button"},"\u2190 Prev")),a>q.perPageCommunityQuestions&&r>o&&C(h.a,{href:"/the-hive?slug=page-".concat(o+1),as:"/the-hive/page-".concat(o+1),prefetch:!0},C("a",{className:"ask-comm__pag__button"},"More \u2192")),C("div",{className:"ask-comm__pag__pag-numbers"},"page ",C("strong",null,o)," of ",C("strong",null,r)))}))))))}}]),t}(l.PureComponent);t.default=Q},FehW:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/the-hive",function(){var e=n("3MhN");return{page:e.default||e}}])},Iy39:function(e,t,n){"use strict";var a=n("0iUn"),r=n("sLSF"),o=n("MI3g"),s=n("a7VT"),i=n("Tit0"),c=n("q1tI"),u=n.n(c),l=(n("937t"),u.a.createElement),d=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.title;return l("h1",{className:"page-heading"},l("span",{className:"page-heading__copy"},e),l("span",{className:"pattern"}))}}]),t}(c.PureComponent);t.a=d},NRlr:function(e,t,n){"use strict";t.a=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}},UtZv:function(e,t,n){"use strict";var a=n("rt45"),r=n("lTCR");function o(){var e=Object(a.default)(['\nquery COMMUNITY_QUESTIONS_QUERY(\n  $skip: Int = 0,\n  $first: Int\n) {\n  questions(\n    first: $first\n    skip: $skip\n    orderBy: "createdAt_DESC"\n    where: {\n      approved: true\n    }\n  ) {\n    id\n    title\n    createdAt\n    ratedUpKnowledgeItems {\n      createdBy {\n        id\n      }\n    }\n    ratedDownKnowledgeItems {\n      createdBy {\n        id\n      }\n    }\n    type {\n      label\n    }\n    slug\n    poster {\n      id\n      firstName\n      profilePicSmall\n    }\n    tags {\n      id\n      label\n    }\n    answers(\n      where: {\n        blocked: false\n      }\n    ) {\n      id\n    }\n  }\n}\n']);return o=function(){return e},e}var s=n.n(r)()(o());t.a=s},YGAP:function(e,t,n){"use strict";var a=n("KI45"),r=a(n("rt45"));function o(){var e=(0,r.default)(["\n  query QUESTION_QUERY(\n    $slug: String\n  ){\n    question(\n      where: {\n        slug: $slug\n      }\n    ) {\n      id\n      title\n      body\n      createdAt\n      ratedUpKnowledgeItems {\n        id\n        createdBy {\n          id\n        }\n      }\n      tags {\n        id\n        label\n      }\n      ratedDownKnowledgeItems {\n        id\n        createdBy {\n          id\n        }\n      }\n      type {\n        label\n      }\n      slug\n      poster {\n        id\n        firstName\n        profilePicMed\n      }\n      tags {\n        id\n        label\n      }\n      answers(where: {\n        blocked: false\n      }) {\n        id\n        body\n        createdAt\n        poster {\n          firstName,\n          profilePicSmall,\n          profilePicMed\n          id\n        }\n        ratedUpKnowledgeItems {\n          id\n          createdBy {\n            id\n          }\n        }\n        ratedDownKnowledgeItems {\n          id\n          createdBy {\n            id\n          }\n        }\n        markedCorrect\n        blocked\n      }\n    }\n  }\n"]);return o=function(){return e},e}var s=(0,a(n("lTCR")).default)(o());e.exports=s},obyI:function(e,t){e.exports={endpoint:"http://localhost:4444",WSendpoint:"ws://localhost:4444",prodEndpoint:"https://api.startbee.io/",WSprodEndpoint:"wss://api.startbee.io/",perPage:12,perPageCommunityQuestions:5}},tUSH:function(e,t,n){"use strict";var a=n("0iUn"),r=n("sLSF"),o=n("MI3g"),s=n("a7VT"),i=n("AT/M"),c=n("Tit0"),u=n("vYYK"),l=n("rt45"),d=n("q1tI"),p=n.n(d),m=n("4KRT"),v=n("lTCR"),g=n.n(v),h=n("TSYQ"),f=n.n(h),b=(n("Xh8O"),p.a.createElement),_=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.voteAction,a=e.active,r=e.disabled;return b("div",{className:f()("vote-arrow",{"vote-arrow--active":a})},b("div",{className:"vote-arrow__tool-tip"},"Vote ".concat(t)),b("button",{disabled:r,className:"vote-arrow__button vote-arrow__button--".concat(t),type:"button",onClick:function(){return n(t)}}))}}]),t}(d.PureComponent),y=n("YGAP"),O=n.n(y),w=n("UtZv"),N=(n("3Z37"),p.a.createElement);function I(){var e=Object(l.default)(["\n  mutation COMMUNITY_VOTE_MUTATION(\n      $upOrDown: String!,\n      $referenceId: ID!\n      $voteOnWhat: String!\n    ) {\n      communityVote(\n        upOrDown: $upOrDown,\n        referenceId: $referenceId,\n        voteOnWhat: $voteOnWhat\n      ) {\n        success\n      }\n    }\n"]);return I=function(){return e},e}var T={QUESTION_QUERY:O.a,COMMUNITY_QUESTIONS_QUERY:w.a},j=g()(I()),k=function(e){function t(e){var n;Object(a.a)(this,t),n=Object(o.a)(this,Object(s.a)(t).call(this)),Object(u.a)(Object(i.a)(n),"performVote",function(e,t){if(!n.props.myId)return n.props.toggleOverlay();if(n.props.posterId===n.props.myId)return alert("You can not vote on your own posts");var a=n.state.votedByUser===e?"":e;n.setState({votedByUser:a},function(){t()})});var r="";return e.ratedUpKnowledgeItems.filter(function(t){return t.createdBy.id===e.myId}).length>0&&(r="up"),e.ratedDownKnowledgeItems.filter(function(t){return t.createdBy.id===e.myId}).length>0&&(r="down"),n.state={votedByUser:r},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e,t=this,n=this.props,a=n.ratedDownKnowledgeItems,r=n.ratedUpKnowledgeItems,o=n.myId,s=n.voteOnWhat,i=n.referenceId,c=n.refetchQueryName,u=n.refetchQueryVariables,l=n.disabled,d=this.state.votedByUser;switch(d){case"up":e=1;break;case"down":e=-1;break;default:e=0}var p=r.filter(function(e){return e.createdBy.id!==o}).length-a.filter(function(e){return e.createdBy.id!==o}).length+e;return N(m.Mutation,{mutation:j,variables:{referenceId:i,upOrDown:d,voteOnWhat:s},refetchQueries:[{query:T[c],variables:u}]},function(e,n){n.error;var a=n.loading;return N("div",{className:"vote-buttons"},N("div",{className:"vote-buttons__inner"},N("div",{className:"vote-buttons__vote vote-buttons__vote--up-vote"},N(_,{voteAction:function(n){return t.performVote(n,e)},type:"up",helpText:"Vote up",active:"up"===d,disabled:a||l})),N("div",{className:"vote-buttons__current-vote"},p),N("div",{className:"vote-buttons__vote vote-buttons__vote--down-vote"},N(_,{voteAction:function(n){return t.performVote(n,e)},type:"down",helpText:"Vote down",active:"down"===d,disabled:a||l}))))})}}]),t}(d.PureComponent);t.a=k},tqnK:function(e,t,n){"use strict";var a=n("0iUn"),r=n("sLSF"),o=n("MI3g"),s=n("a7VT"),i=n("Tit0"),c=n("q1tI"),u=n.n(c),l=n("DcDD"),d=(n("RKBC"),u.a.createElement),p=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.pageidxref;return d("div",{className:"ask-widget"},d("div",{className:"ask-widget__content"},d("p",null,"Have a question of your own?"),d(l.a,{text:"Ask the hive",tag:"link",link:"/the-hive/ask".concat(e?"?pageidxref="+e:"")})),d("span",{className:"pattern"}))}}]),t}(c.PureComponent);t.a=p}},[["FehW",1,0,2]]]);
//# sourceMappingURL=the-hive.js.map